{"remainingRequest":"C:\\Users\\web\\Desktop\\msfvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\msfvue\\src\\views\\Purchase.vue?vue&type=style&index=0&id=73f1a28a&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\msfvue\\src\\views\\Purchase.vue","mtime":1574500033794},{"path":"C:\\Users\\web\\Desktop\\msfvue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\msfvue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\msfvue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\msfvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\msfvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5pc0ZpeGVkMSB7DQogIGRpc3BsYXk6IG5vbmU7DQp9DQouaXNGaXhlZDIgew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogIHRvcDogMDsNCiAgei1pbmRleDogOTk5Ow0KfQ0KICAvKiAuZml4ZWR7DQogICAgcG9zaXRpb246IGZpeGVkOw0KICAgIHotaW5kZXg6IDk5OTsNCiAgfSAqLw0KICAuYmFja3sNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgdG9wOjFyZW07DQogICAgbGVmdDoxcmVtOw0KICAgIHotaW5kZXg6OTk5Ow0KICB9DQogIC5iYWNrPmltZ3sNCiAgICB3aWR0aDoycmVtOw0KICAgIGhlaWdodDoycmVtOw0KICB9DQogIC5mMSB7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgYm90dG9tOiAwOw0KfQ0K"},{"version":3,"sources":["Purchase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Purchase.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"d1\">\r\n    <top_post class=\"isFixed1 isFixed2\" :upic=\"upic\" :ncname=\"ncname\" :count=\"count\" :fans=\"fans\" :author=\"author\"></top_post>\r\n    <!-- <post  :upic=\"upic\" :ncname=\"ncname\" :count=\"count\" :fans=\"fans\" :author=\"author\" class=\"fixed\"></post> -->\r\n    <!-- <div class=\"back\">\r\n      <img @click=\"toIndex\" src=\"../assets/imgs/bac.png\">\r\n    </div> -->\r\n    <topimg :carlist=\"carlist\"></topimg>\r\n    <post :upic=\"upic\" :ncname=\"ncname\" :count=\"count\" :fans=\"fans\" :author=\"author\"></post>\r\n    <p_text :ndetail=\"ndetail\"></p_text>\r\n    <shop :shop=\"shop\"></shop>\r\n    <my_list :com=\"com\"></my_list>\r\n    <msbj></msbj>\r\n    <fixed class=\"f1\"></fixed>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//1:引入顶部图片子组件\r\nimport Topimg from \"../components/Purchase/Topimg.vue\";\r\n//2:引入用户信息栏子组件\r\nimport Post from \"../components/Purchase/Post.vue\";\r\n//3:引入P_text子组件\r\nimport P_text from \"../components/Purchase/P_text.vue\";\r\n//4:引入shop商铺子组件\r\nimport Shop from \"../components/Purchase/Shop.vue\";\r\n//5:引入list评论列表组件\r\nimport List from \"../components/Purchase/List.vue\";\r\nimport Msbj from \"../components/Purchase/Msbj.vue\";\r\nimport fixed from \"../components/Purchase/fixed.vue\";\r\nimport top_post from \"../components/Purchase/top_post.vue\";\r\n\r\nimport Index from \"../views/Index.vue\"\r\nexport default {\r\n  components: {\r\n    top_post: top_post,\r\n    topimg: Topimg, //顶部图片\r\n    post: Post,\r\n    p_text:P_text,\r\n    \"shop\":Shop,\r\n    \"my_list\":List,\r\n    \"msbj\":Msbj,\r\n    fixed: fixed\r\n  },\r\n  props:[\"nid\"],\r\n  data(){\r\n    return{\r\n      ndetail:[],\r\n      carlist:[],\r\n      author:[],\r\n      shop:{},\r\n      upic:'',\r\n      ncname:'',\r\n      count:'',\r\n      fans:'',\r\n      com:[],\r\n      ccount:''\r\n    }\r\n  },\r\n  methods:{\r\n    toIndex(){\r\n      this.$router.push(\"/Index\");\r\n    },\r\n    loadnDetail(){\r\n      this.axios.get(\"notes/ndetail\",{\r\n        params:{nid:this.nid}\r\n      }).then(res=>{\r\n        console.log(res);\r\n        var res=res.data.data;\r\n        this.ndetail=res.ndetail[0];\r\n        // 五张轮播图\r\n        this.carlist[0]=res.ndetail[0].ncar1;\r\n        this.carlist[1]=res.ndetail[0].ncar2;\r\n        this.carlist[2]=res.ndetail[0].ncar3;\r\n        this.carlist[3]=res.ndetail[0].ncar4;\r\n        this.carlist[4]=res.ndetail[0].ncar5;\r\n        console.log(this.carlist);//__ob__: Observer不可枚举数组，需要转为可枚举\r\n        this.carlist=JSON.parse(JSON.stringify(this.carlist));\r\n        // this.author=res.author;\r\n        this.author[0]=JSON.parse(JSON.stringify(res.author[0][0]));\r\n        this.author[1]=JSON.parse(JSON.stringify(res.author[1][0]));\r\n        this.author[2]=JSON.parse(JSON.stringify(res.author[2][0]));\r\n        this.author[3]=JSON.parse(JSON.stringify(res.author[3]));\r\n        this.author[4]=JSON.parse(JSON.stringify(res.author[4][0]));\r\n        this.shop=JSON.parse(JSON.stringify(res.shop[0]));\r\n        console.log(this.ndetail);\r\n        console.log(this.author);\r\n        // console.log(this.author[0].upic);\r\n        console.log(this.shop);\r\n        this.upic=this.author[0].upic;\r\n        this.ncname=this.author[0].ncname;\r\n        this.count=this.author[1].count;\r\n        this.fans=this.author[2].fans;\r\n        this.com=this.author[3];\r\n        this.ccount=this.author[4].ccount;\r\n        console.log(this.com);\r\n        console.log(this.ccount);\r\n      })\r\n    },\r\n    handleScroll() {\r\n      let scrollTop =\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop;\r\n      // console.log(scrollTop);\r\n      var d1 = document.getElementById(\"d1\");\r\n      var top = d1.firstElementChild;\r\n      // console.log(top);\r\n      if (scrollTop > 400) {\r\n        top.classList.remove(\"isFixed1\");\r\n      } else if (scrollTop < 400) {\r\n        top.classList.add(\"isFixed1\");\r\n      }\r\n    },\r\n    toIndex() {\r\n      this.$router.push(\"/Index\");\r\n    }\r\n  },\r\n  created(){\r\n    this.loadnDetail();\r\n    console.log(this.nid);\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"scroll\", this.handleScroll);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.isFixed1 {\r\n  display: none;\r\n}\r\n.isFixed2 {\r\n  position: fixed;\r\n  background-color: #fff;\r\n  top: 0;\r\n  z-index: 999;\r\n}\r\n  /* .fixed{\r\n    position: fixed;\r\n    z-index: 999;\r\n  } */\r\n  .back{\r\n    position: fixed;\r\n    top:1rem;\r\n    left:1rem;\r\n    z-index:999;\r\n  }\r\n  .back>img{\r\n    width:2rem;\r\n    height:2rem;\r\n  }\r\n  .f1 {\r\n  position: fixed;\r\n  bottom: 0;\r\n}\r\n</style>\r\n"]}]}