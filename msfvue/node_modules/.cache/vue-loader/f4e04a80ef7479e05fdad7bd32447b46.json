{"remainingRequest":"C:\\Users\\web\\Desktop\\msf\\msfvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\msf\\msfvue\\src\\views\\Purchase.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\msf\\msfvue\\src\\views\\Purchase.vue","mtime":1574730133515},{"path":"C:\\Users\\web\\Desktop\\msf\\msfvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\msf\\msfvue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\msf\\msfvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\msf\\msfvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLzE65byV5YWl6aG26YOo5Zu+54mH5a2Q57uE5Lu2DQppbXBvcnQgVG9waW1nIGZyb20gIi4uL2NvbXBvbmVudHMvUHVyY2hhc2UvVG9waW1nLnZ1ZSI7DQovLzI65byV5YWl55So5oi35L+h5oGv5qCP5a2Q57uE5Lu2DQppbXBvcnQgUG9zdCBmcm9tICIuLi9jb21wb25lbnRzL1B1cmNoYXNlL1Bvc3QudnVlIjsNCi8vMzrlvJXlhaVQX3RleHTlrZDnu4Tku7YNCmltcG9ydCBQX3RleHQgZnJvbSAiLi4vY29tcG9uZW50cy9QdXJjaGFzZS9QX3RleHQudnVlIjsNCi8vNDrlvJXlhaVzaG9w5ZWG6ZO65a2Q57uE5Lu2DQppbXBvcnQgU2hvcCBmcm9tICIuLi9jb21wb25lbnRzL1B1cmNoYXNlL1Nob3AudnVlIjsNCi8vNTrlvJXlhaVsaXN06K+E6K665YiX6KGo57uE5Lu2DQppbXBvcnQgTGlzdCBmcm9tICIuLi9jb21wb25lbnRzL1B1cmNoYXNlL0xpc3QudnVlIjsNCmltcG9ydCBNc2JqIGZyb20gIi4uL2NvbXBvbmVudHMvUHVyY2hhc2UvTXNiai52dWUiOw0KaW1wb3J0IGZpeGVkIGZyb20gIi4uL2NvbXBvbmVudHMvUHVyY2hhc2UvZml4ZWQudnVlIjsNCmltcG9ydCB0b3BfcG9zdCBmcm9tICIuLi9jb21wb25lbnRzL1B1cmNoYXNlL3RvcF9wb3N0LnZ1ZSI7DQoNCmltcG9ydCBJbmRleCBmcm9tICIuLi92aWV3cy9JbmRleC52dWUiDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICB0b3BfcG9zdDogdG9wX3Bvc3QsDQogICAgdG9waW1nOiBUb3BpbWcsIC8v6aG26YOo5Zu+54mHDQogICAgcG9zdDogUG9zdCwNCiAgICBwX3RleHQ6UF90ZXh0LA0KICAgICJzaG9wIjpTaG9wLA0KICAgICJteV9saXN0IjpMaXN0LA0KICAgICJtc2JqIjpNc2JqLA0KICAgIGZpeGVkOiBmaXhlZA0KICB9LA0KICBwcm9wczpbIm5pZCJdLA0KICBkYXRhKCl7DQogICAgcmV0dXJuew0KICAgICAgbmRldGFpbDpbXSwNCiAgICAgIGNhcmxpc3Q6W10sDQogICAgICBhdXRob3I6W10sDQogICAgICBzaG9wOnt9LA0KICAgICAgdXBpYzonJywNCiAgICAgIG5jbmFtZTonJywNCiAgICAgIGNvdW50OicnLA0KICAgICAgZmFuczonJywNCiAgICAgIGNvbTpbXSwNCiAgICAgIGNjb3VudDonJywNCiAgICAgIGxwaWM6W10sDQogICAgICBsY291bnQ6JycNCiAgICB9DQogIH0sDQogIA0KICBtZXRob2RzOnsNCiAgICB0b0luZGV4KCl7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL0luZGV4Iik7DQogICAgfSwNCiAgICBsb2FkbkRldGFpbCgpew0KICAgICAgdGhpcy5heGlvcy5nZXQoIm5vdGVzL25kZXRhaWwiLHsNCiAgICAgICAgcGFyYW1zOntuaWQ6dGhpcy5uaWR9DQogICAgICB9KS50aGVuKHJlcz0+ew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB2YXIgcmVzPXJlcy5kYXRhLmRhdGE7DQogICAgICAgIHRoaXMubmRldGFpbD1yZXMubmRldGFpbFswXTsNCiAgICAgICAgLy8g5LqU5byg6L2u5pKt5Zu+DQogICAgICAgIHRoaXMuY2FybGlzdFswXT1yZXMubmRldGFpbFswXS5uY2FyMTsNCiAgICAgICAgdGhpcy5jYXJsaXN0WzFdPXJlcy5uZGV0YWlsWzBdLm5jYXIyOw0KICAgICAgICB0aGlzLmNhcmxpc3RbMl09cmVzLm5kZXRhaWxbMF0ubmNhcjM7DQogICAgICAgIHRoaXMuY2FybGlzdFszXT1yZXMubmRldGFpbFswXS5uY2FyNDsNCiAgICAgICAgdGhpcy5jYXJsaXN0WzRdPXJlcy5uZGV0YWlsWzBdLm5jYXI1Ow0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNhcmxpc3QpOy8vX19vYl9fOiBPYnNlcnZlcuS4jeWPr+aemuS4vuaVsOe7hO+8jOmcgOimgei9rOS4uuWPr+aemuS4vg0KICAgICAgICB0aGlzLmNhcmxpc3Q9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNhcmxpc3QpKTsNCiAgICAgICAgLy8gdGhpcy5hdXRob3I9cmVzLmF1dGhvcjsNCiAgICAgICAgdGhpcy5hdXRob3JbMF09SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuYXV0aG9yWzBdWzBdKSk7DQogICAgICAgIHRoaXMuYXV0aG9yWzFdPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmF1dGhvclsxXVswXSkpOw0KICAgICAgICB0aGlzLmF1dGhvclsyXT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcy5hdXRob3JbMl1bMF0pKTsNCiAgICAgICAgdGhpcy5hdXRob3JbM109SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuYXV0aG9yWzNdKSk7DQogICAgICAgIHRoaXMuYXV0aG9yWzRdPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmF1dGhvcls0XVswXSkpOw0KICAgICAgICB0aGlzLmF1dGhvcls1XT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcy5hdXRob3JbNV0pKTsNCiAgICAgICAgdGhpcy5hdXRob3JbNl09SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXMuYXV0aG9yWzZdWzBdKSk7DQogICAgICAgIHRoaXMuc2hvcD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlcy5zaG9wWzBdKSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubmRldGFpbCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYXV0aG9yKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zaG9wKTsNCiAgICAgICAgdGhpcy51cGljPXRoaXMuYXV0aG9yWzBdLnVwaWM7DQogICAgICAgIHRoaXMubmNuYW1lPXRoaXMuYXV0aG9yWzBdLm5jbmFtZTsNCiAgICAgICAgdGhpcy5jb3VudD10aGlzLmF1dGhvclsxXS5jb3VudDsNCiAgICAgICAgdGhpcy5mYW5zPXRoaXMuYXV0aG9yWzJdLmZhbnM7DQogICAgICAgIHRoaXMuY29tPXRoaXMuYXV0aG9yWzNdOw0KICAgICAgICB0aGlzLmNjb3VudD10aGlzLmF1dGhvcls0XS5jY291bnQ7DQogICAgICAgIHRoaXMubHBpYz10aGlzLmF1dGhvcls1XTsNCiAgICAgICAgdGhpcy5sY291bnQ9dGhpcy5hdXRob3JbNl0ubGNvdW50Ow0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNvbSk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2NvdW50KTsNCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5scGljKTsNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVTY3JvbGwoKSB7DQogICAgICBsZXQgc2Nyb2xsVG9wID0NCiAgICAgICAgd2luZG93LnBhZ2VZT2Zmc2V0IHx8DQogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwNCiAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7DQogICAgICAvLyBjb25zb2xlLmxvZyhzY3JvbGxUb3ApOw0KICAgICAgdmFyIGQxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImQxIik7DQogICAgICB2YXIgdG9wID0gZDEuZmlyc3RFbGVtZW50Q2hpbGQ7DQogICAgICAvLyBjb25zb2xlLmxvZyh0b3ApOw0KICAgICAgaWYgKHNjcm9sbFRvcCA+IDQwMCkgew0KICAgICAgICB0b3AuY2xhc3NMaXN0LnJlbW92ZSgiaXNGaXhlZDEiKTsNCiAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9wIDwgNDAwKSB7DQogICAgICAgIHRvcC5jbGFzc0xpc3QuYWRkKCJpc0ZpeGVkMSIpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpew0KICAgIHRoaXMubG9hZG5EZXRhaWwoKTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kbGVTY3JvbGwpOw0KICB9LA0KICBkZXN0cm95ZWQoKSB7DQogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuaGFuZGxlU2Nyb2xsKTsNCiAgfSwNCiAgDQp9Ow0K"},{"version":3,"sources":["Purchase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Purchase.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"d1\">\r\n    <top_post class=\"isFixed1 isFixed2\" :upic=\"upic\" :ncname=\"ncname\" :count=\"count\" :fans=\"fans\" :author=\"author\"></top_post>\r\n    <!-- <post  :upic=\"upic\" :ncname=\"ncname\" :count=\"count\" :fans=\"fans\" :author=\"author\" class=\"fixed\"></post> -->\r\n    <!-- <div class=\"back\">\r\n      <img @click=\"toIndex\" src=\"../assets/imgs/bac.png\">\r\n    </div> -->\r\n    <topimg :carlist=\"carlist\"></topimg>\r\n    <post :upic=\"upic\" :ncname=\"ncname\" :count=\"count\" :fans=\"fans\" :author=\"author\"></post>\r\n    <p_text :ndetail=\"ndetail\"></p_text>\r\n    <shop :shop=\"shop\"></shop>\r\n    <my_list :com=\"com\" :ccount=\"ccount\" :lpic=\"lpic\" :lcount=\"lcount\"></my_list>\r\n    <msbj></msbj>\r\n    <fixed class=\"f1\" :nid=\"nid\"></fixed>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//1:引入顶部图片子组件\r\nimport Topimg from \"../components/Purchase/Topimg.vue\";\r\n//2:引入用户信息栏子组件\r\nimport Post from \"../components/Purchase/Post.vue\";\r\n//3:引入P_text子组件\r\nimport P_text from \"../components/Purchase/P_text.vue\";\r\n//4:引入shop商铺子组件\r\nimport Shop from \"../components/Purchase/Shop.vue\";\r\n//5:引入list评论列表组件\r\nimport List from \"../components/Purchase/List.vue\";\r\nimport Msbj from \"../components/Purchase/Msbj.vue\";\r\nimport fixed from \"../components/Purchase/fixed.vue\";\r\nimport top_post from \"../components/Purchase/top_post.vue\";\r\n\r\nimport Index from \"../views/Index.vue\"\r\nexport default {\r\n  components: {\r\n    top_post: top_post,\r\n    topimg: Topimg, //顶部图片\r\n    post: Post,\r\n    p_text:P_text,\r\n    \"shop\":Shop,\r\n    \"my_list\":List,\r\n    \"msbj\":Msbj,\r\n    fixed: fixed\r\n  },\r\n  props:[\"nid\"],\r\n  data(){\r\n    return{\r\n      ndetail:[],\r\n      carlist:[],\r\n      author:[],\r\n      shop:{},\r\n      upic:'',\r\n      ncname:'',\r\n      count:'',\r\n      fans:'',\r\n      com:[],\r\n      ccount:'',\r\n      lpic:[],\r\n      lcount:''\r\n    }\r\n  },\r\n  \r\n  methods:{\r\n    toIndex(){\r\n      this.$router.push(\"/Index\");\r\n    },\r\n    loadnDetail(){\r\n      this.axios.get(\"notes/ndetail\",{\r\n        params:{nid:this.nid}\r\n      }).then(res=>{\r\n        // console.log(res);\r\n        var res=res.data.data;\r\n        this.ndetail=res.ndetail[0];\r\n        // 五张轮播图\r\n        this.carlist[0]=res.ndetail[0].ncar1;\r\n        this.carlist[1]=res.ndetail[0].ncar2;\r\n        this.carlist[2]=res.ndetail[0].ncar3;\r\n        this.carlist[3]=res.ndetail[0].ncar4;\r\n        this.carlist[4]=res.ndetail[0].ncar5;\r\n        // console.log(this.carlist);//__ob__: Observer不可枚举数组，需要转为可枚举\r\n        this.carlist=JSON.parse(JSON.stringify(this.carlist));\r\n        // this.author=res.author;\r\n        this.author[0]=JSON.parse(JSON.stringify(res.author[0][0]));\r\n        this.author[1]=JSON.parse(JSON.stringify(res.author[1][0]));\r\n        this.author[2]=JSON.parse(JSON.stringify(res.author[2][0]));\r\n        this.author[3]=JSON.parse(JSON.stringify(res.author[3]));\r\n        this.author[4]=JSON.parse(JSON.stringify(res.author[4][0]));\r\n        this.author[5]=JSON.parse(JSON.stringify(res.author[5]));\r\n        this.author[6]=JSON.parse(JSON.stringify(res.author[6][0]));\r\n        this.shop=JSON.parse(JSON.stringify(res.shop[0]));\r\n        // console.log(this.ndetail);\r\n        // console.log(this.author);\r\n        // console.log(this.shop);\r\n        this.upic=this.author[0].upic;\r\n        this.ncname=this.author[0].ncname;\r\n        this.count=this.author[1].count;\r\n        this.fans=this.author[2].fans;\r\n        this.com=this.author[3];\r\n        this.ccount=this.author[4].ccount;\r\n        this.lpic=this.author[5];\r\n        this.lcount=this.author[6].lcount;\r\n        // console.log(this.com);\r\n        // console.log(this.ccount);\r\n        // console.log(this.lpic);\r\n      })\r\n    },\r\n    handleScroll() {\r\n      let scrollTop =\r\n        window.pageYOffset ||\r\n        document.documentElement.scrollTop ||\r\n        document.body.scrollTop;\r\n      // console.log(scrollTop);\r\n      var d1 = document.getElementById(\"d1\");\r\n      var top = d1.firstElementChild;\r\n      // console.log(top);\r\n      if (scrollTop > 400) {\r\n        top.classList.remove(\"isFixed1\");\r\n      } else if (scrollTop < 400) {\r\n        top.classList.add(\"isFixed1\");\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    this.loadnDetail();\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"scroll\", this.handleScroll);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  },\r\n  \r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.isFixed1 {\r\n  display: none;\r\n}\r\n.isFixed2 {\r\n  position: fixed;\r\n  background-color: #fff;\r\n  top: 0;\r\n  z-index: 999;\r\n}\r\n  /* .fixed{\r\n    position: fixed;\r\n    z-index: 999;\r\n  } */\r\n  .back{\r\n    position: fixed;\r\n    top:1rem;\r\n    left:1rem;\r\n    z-index:999;\r\n  }\r\n  .back>img{\r\n    width:2rem;\r\n    height:2rem;\r\n  }\r\n  .f1 {\r\n  position: fixed;\r\n  bottom: 0;\r\n}\r\n</style>\r\n"]}]}